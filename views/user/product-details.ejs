<%- include("../partials/user/header") %>

<div class="product-page">
    <div class="product-container">
        <div class="product-images">
            <div class="main-image-container">
                <img src="/uploads/productImages/<%=product.productImage[0]%>" alt="Product Image" id="mainImage">
            </div>
            <div class="thumbnail-list">
                <%for(let i=0;i<product.productImage.length;i++){%>
                    <div class="thumbnail <%= i == 0 ? 'active' : '' %>">
                        <img src="/uploads/productImages/<%=product.productImage[i]%>" alt="Thumbnail <%= i + 1 %>" onclick="updateMainImage(this)">
                    </div>
                <%}%>
            </div>
        </div>
        
        <div class="product-info">
            <h1 class="product-title"><%=product.productName%></h1>
            <div class="price-section">
                <div class="price">
                    <span class="currency">$</span>
                    <span class="amount"><%=product.salePrice%></span>
                </div>
                <div class="original-price">
                    <span>$<%=product.regularPrice%></span>
                </div>
            </div>
            
            <div class="product-actions">
                <button class="add-to-cart">ADD TO CART</button>
            </div>

            <div class="product-details">
                <h2>PRODUCT DETAILS</h2>
                <div class="details-content">
                    <p>About this item:</p>
                    <ul>
                        <li><%=product.description%></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.product-page {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    background: #fff;
}

.product-container {
    display: flex;
    gap: 40px;
}

.product-images {
    flex: 0 0 600px;
    max-width: 600px;
}

.main-image-container {
    border: 1px solid #e0e0e0;
    border-radius: 4px;
    margin-bottom: 20px;
    padding: 10px;
    width: 600px;
    height: 600px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

.main-image-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.thumbnail-list {
    display: flex;
    gap: 10px;
}

.thumbnail {
    border: 1px solid #e0e0e0;
    border-radius: 4px;
    padding: 5px;
    cursor: pointer;
    width: 80px;
    height: 80px;
}

.thumbnail.active {
    border-color: #007bff;
}

.thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.product-info {
    flex: 1;
}

.product-title {
    font-size: 24px;
    color: #333;
    margin-bottom: 20px;
    font-weight: 600;
    line-height: 1.4;
}

.price-section {
    margin: 20px 0;
}

.price {
    font-size: 28px;
    color: #333;
    font-weight: bold;
}

.currency {
    font-size: 20px;
    vertical-align: top;
}

.original-price {
    color: #999;
    text-decoration: line-through;
    margin-top: 5px;
}

.add-to-cart {
    background: #007bff;
    color: white;
    border: none;
    padding: 10px 30px;
    font-size: 14px;
    font-weight: 600;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s;
    width: 200px;
    margin: 20px 0;
}

.add-to-cart:hover {
    background: #0056b3;
}

.product-details {
    margin-top: 40px;
}

.product-details h2 {
    font-size: 20px;
    color: #333;
    margin-bottom: 15px;
    font-weight: 600;
}

.details-content {
    color: #666;
}

.details-content p {
    margin-bottom: 10px;
}

.details-content ul {
    list-style: none;
    padding-left: 0;
}

.details-content li {
    margin-bottom: 10px;
    padding-left: 15px;
    position: relative;
}

.details-content li:before {
    content: "â€¢";
    position: absolute;
    left: 0;
    color: #007bff;
}

@media (max-width: 768px) {
    .product-container {
        flex-direction: column;
    }
    
    .product-images {
        flex: none;
    }
    
    .thumbnail {
        width: 60px;
        height: 60px;
    }
}
</style>

<script>
function updateMainImage(element) {
    // Update main image
    document.getElementById('mainImage').src = element.src;
    
    // Update active thumbnail
    document.querySelectorAll('.thumbnail').forEach(thumb => {
        thumb.classList.remove('active');
    });
    element.parentElement.classList.add('active');
}
</script>

<%- include("../partials/user/footer") %>
